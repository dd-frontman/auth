import{M as m,J as v}from"./entry.596be0bc.js";import{u as L}from"./auth.store.6ee002cd.js";function P(e={}){let t,n=!1;const c=r=>{if(t&&t!==r)throw new Error("Context conflict")};let o;if(e.asyncContext){const r=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;r?o=new r:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const a=()=>{if(o&&t===void 0){const r=o.getStore();if(r!==void 0)return r}return t};return{use:()=>{const r=a();if(r===void 0)throw new Error("Context is not available");return r},tryUse:()=>a(),set:(r,s)=>{s||c(r),t=r,n=!0},unset:()=>{t=void 0,n=!1},call:(r,s)=>{c(r),t=r;try{return o?o.run(r,s):s()}finally{n||(t=void 0)}},async callAsync(r,s){t=r;const u=()=>{t=r},i=()=>t===r?u:void 0;E.add(i);try{const l=o?o.run(r,s):s();return n||(t=void 0),await l}finally{E.delete(i)}}}}function b(e={}){const t={};return{get(n,c={}){return t[n]||(t[n]=P({...e,...c})),t[n],t[n]}}}const f=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},p="__unctx__",T=f[p]||(f[p]=b()),I=(e,t={})=>T.get(e,t),w="__unctx_async_handlers__",E=f[w]||(f[w]=new Set),O=I("nuxt-app");/*! @__NO_SIDE_EFFECTS__ */function g(){var t;let e;if(m()&&(e=(t=v())==null?void 0:t.appContext.app.$nuxt),e=e||O.tryUse(),!e)throw new Error("[nuxt] instance unavailable");return e}const N=/#/g,U=/&/g,S=/=/g,x=/\+/g,Q=/%5e/gi,$=/%60/gi,j=/%7c/gi,M=/%20/gi;function H(e){return encodeURI(""+e).replace(j,"|")}function y(e){return H(typeof e=="string"?e:JSON.stringify(e)).replace(x,"%2B").replace(M,"+").replace(N,"%23").replace(U,"%26").replace($,"`").replace(Q,"^")}function d(e){return y(e).replace(S,"%3D")}function C(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function K(e){return C(e.replace(x," "))}function G(e=""){const t={};e[0]==="?"&&(e=e.slice(1));for(const n of e.split("&")){const c=n.match(/([^=]+)=?(.*)/)||[];if(c.length<2)continue;const o=C(c[1]);if(o==="__proto__"||o==="constructor")continue;const a=K(c[2]||"");typeof t[o]<"u"?Array.isArray(t[o])?t[o].push(a):t[o]=[t[o],a]:t[o]=a}return t}function V(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(n=>`${d(e)}=${y(n)}`).join("&"):`${d(e)}=${y(t)}`:d(e)}function X(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>V(t,e[t])).join("&")}const B=/^\w{2,}:([/\\]{1,2})/,D=/^\w{2,}:([/\\]{2})?/,J=/^([/\\]\s*){2,}[^/\\]/;function A(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?B.test(e):D.test(e)||(t.acceptRelative?J.test(e):!1)}function z(e,t){const n=_(e),c={...G(n.search),...t};return n.search=X(c),F(n)}function _(e="",t){if(!A(e,{acceptRelative:!0}))return t?_(t+e):R(e);const[n="",c,o=""]=(e.replace(/\\/g,"/").match(/([^/:]+:)?\/\/([^/@]+@)?(.*)/)||[]).splice(1),[a="",r=""]=(o.match(/([^#/?]*)(.*)?/)||[]).splice(1),{pathname:s,search:u,hash:i}=R(r.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:n,auth:c?c.slice(0,Math.max(0,c.length-1)):"",host:a,pathname:s,search:u,hash:i}}function R(e=""){const[t="",n="",c=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:n,hash:c}}function F(e){const t=e.pathname+(e.search?(e.search.startsWith("?")?"":"?")+e.search:"")+e.hash;return e.protocol?e.protocol+"//"+(e.auth?e.auth+"@":"")+e.host+t:t}const W=()=>{var e;return(e=g())==null?void 0:e.$router};/*! @__NO_SIDE_EFFECTS__ */const Z=()=>{try{if(g()._processingMiddleware)return!0}catch{return!0}return!1},Y=(e,t)=>{e||(e="/");const n=typeof e=="string"?e:z(e.path||"/",e.query||{})+(e.hash||"");if(t!=null&&t.open){{const{target:s="_blank",windowFeatures:u={}}=t.open,i=Object.entries(u).filter(([l,h])=>h!==void 0).map(([l,h])=>`${l.toLowerCase()}=${h}`).join(", ");open(n,s,i)}return Promise.resolve()}const c=(t==null?void 0:t.external)||A(n,{acceptRelative:!0});if(c&&!(t!=null&&t.external))throw new Error("Navigating to external URL is not allowed by default. Use `navigateTo (url, { external: true })`.");if(c&&_(n).protocol==="script:")throw new Error("Cannot navigate to an URL with script protocol.");const o=Z();if(!c&&o)return e;const a=W(),r=g();return c?(t!=null&&t.replace?location.replace(n):location.href=n,o?r.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):t!=null&&t.replace?a.replace(e):a.push(e)},ee=e=>{if(e.path==="/otp"&&!L().isLoggedIn)return Y("/")};export{ee as default};

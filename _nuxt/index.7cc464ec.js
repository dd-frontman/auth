import{_ as v}from"./custom-password.vue.20c631ae.js";import{_ as w}from"./nuxt-link.a8ae6ab8.js";import{f as y,g as V,r as c,o as b,h as x,w as m,i as n,b as r,j as f,d,k,a as C}from"./entry.81ad0c77.js";import{u as T,_ as U,a as $,b as N}from"./useValidation.750e9502.js";import{u as j}from"./auth.store.47d2ea62.js";import{_ as L}from"./default.vue.50db19d7.js";const B=""+new URL("login-group.289fece4.png",import.meta.url).href,F={class:"text-center text-base"},O=y({__name:"index",setup(K){const _=V(),{setUserData:g}=j(),t=c(""),a=c(""),i=c(!1),{isFormValid:h}=T([t,a]);function p(){i.value=!0,N("https://dummyjson.com/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.value,password:a.value})},"$pqtWcjQkdb").then(o=>{var l;const{error:e}=o;if(e.value)throw new Error(`UseFetch error: ${(l=e.value)==null?void 0:l.data.message}`);const{data:s}=o;console.log("%c success auth: ","background: green;"),console.table(s.value),alert("success authentication"),g(s.value),_.push({path:"/otp"})}).catch(o=>{alert(o),console.error(o)}).finally(()=>i.value=!1)}return(o,e)=>{const s=v,l=w;return b(),x(L,{leftTitle:"Login to your Account",leftUnderTitle:"with email",rightTitle:"Connect with any device.",rightUnderTitle:"Everything you need is an internet connection.",rightImg:n(B)},{left:m(()=>[r(U,{modelValue:n(t),"onUpdate:modelValue":e[0]||(e[0]=u=>f(t)?t.value=u:null),type:"email",placeholder:"email",icon:"email"},null,8,["modelValue"]),r(s,{modelValue:n(a),"onUpdate:modelValue":e[1]||(e[1]=u=>f(a)?a.value=u:null),type:"password",placeholder:"password",icon:"password"},null,8,["modelValue"]),r($,{"is-loading":n(i),"is-form-valid":!n(h),class:"mb-5",onClick:p,onKeyup:k(p,["enter"])},{default:m(()=>[d(" log in ")]),_:1},8,["is-loading","is-form-valid","onKeyup"]),C("p",F,[d(" Donâ€™t have account? "),r(l,{to:"/sign-up",class:"font-bold text-regal-light-blue"},{default:m(()=>[d("Create an account ")]),_:1})])]),_:1},8,["rightImg"])}}});export{O as default};

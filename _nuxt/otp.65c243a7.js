import{u as b,a as v,b as y,_ as T}from"./useValidation.750e9502.js";import{_ as x}from"./default.vue.50db19d7.js";import{f as V,r as l,o as r,h as p,w as m,i as c,a as F,c as w,l as O,F as U,b as k,d as N}from"./entry.81ad0c77.js";import"./nuxt-link.a8ae6ab8.js";import"./auth.store.47d2ea62.js";const $=""+new URL("otp-group.c600b06a.png",import.meta.url).href,B={class:"flex justify-between mx-auto mb-5"},d=6,P=V({__name:"otp",setup(C){const s=Array(d).fill(null).map(()=>l("")),i=l([]),{isFormValid:f}=b(s),u=l(!1),h=(a,e)=>i.value[a]=e;function _(a){const e=a+1,t=i.value[e];e<d&&t&&t.focus()}async function g(){const a=s.map(e=>e.value).join("");u.value=!0,await y("https://dummyjson.com/auth/otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:a})},"$L4xCl9ylaM").then(e=>{var o;const{error:t}=e;if(t.value)throw new Error(`UseFetch error: ${(o=t.value)==null?void 0:o.data.message}`);const{data:n}=e;console.log("%c otp success: ","background: green;"),console.table(n.value),alert("otp success")}).catch(e=>console.error(e)).finally(()=>u.value=!1)}return(a,e)=>(r(),p(x,{leftTitle:"Enter OTP",leftUnderTitle:"Sent OTP on",rightTitle:"Join us!",rightUnderTitle:"Just go through the boring process of creating an account.",rightImg:c($),isOtp:""},{left:m(()=>[F("div",B,[(r(!0),w(U,null,O(c(s),(t,n)=>(r(),p(T,{key:n,modelValue:t.value,"onUpdate:modelValue":o=>t.value=o,type:"number",name:"otp",maxlength:"1",placeholder:"-",inputRef:o=>h(n,o),onKeyup:o=>_(n)},null,8,["modelValue","onUpdate:modelValue","inputRef","onKeyup"]))),128))]),k(v,{disabled:!c(f),class:"mb-5",onClick:g},{default:m(()=>[N(" SUBMIT ")]),_:1},8,["disabled"])]),_:1},8,["rightImg"]))}});export{P as default};
